@RealAntennasCommNetParams:AFTER[RealAntennas] {
  BandInfo {
    name = C
    TechLevel = 3
    // Put the allocation just above 4 GHz.
    Frequency = 4.768e9
    // We should not allow more than 2 GHz (half the band); RA does not separate
    // uplink and downlink, the downlink would usually be in the 4 GHz range and
    // the uplink in the 6 GHz range.
    // The value 1.536 GHz is chosen as 256 times the width of an NTSC channel,
    // so that a single TV channel is within the reach of the halvings allowed
    // at Tech Level 3.
    // For comparison, the Telstar 400s had 24 C band transponders of 36 MHz
    // each, for a total of 864 MHz.
    ChannelWidth = 1.536e9
  }
}

skopos_telecom {
  station {
    name = andover
    objectName = Andover Earth Station
    // Coordinates of the old radome, which was half a kilometer from the
    // remaining buildings; read off Google maps based on road outlines and
    // comparing with aerial photographs.
    lat = 44.6356721366612
    lon = -70.69365713258338
    // 273 m ASL, and the centre of the antennna is about 15 m above the
    // ground.
    alt = 288
    role = trx
    Antenna {
      TechLevel = 3
      RFBand = C
      // Same antenna as PB1.
      referenceGain = 57
      referenceFrequency = 4768
      TxPower = 63  // 2 kW.
      AMWTemp = 33
    }
  }
  station {
    name = pleumeur_bodou
    objectName = CTS de Pleumeur-Bodou
    // PB1.
    lat = 48.785895
    lon = -3.523763
    // 59 m ASL + 15 m.
    alt = 74
    role = trx
    Antenna {
      TechLevel = 3
      RFBand = C
      // See Telstar I (NASA SP-32), vol. 4, p. 2024.
      // We use our nominal frequency for C band rather than the actual one for Telstar I.
      referenceGain = 58
      referenceFrequency = 4768
      TxPower = 63  // 2 kW.
      // Median value.  See Telstar I (NASA SP-32), vol. 4, p. 2032.
      AMWTemp = 33
    }
  }
  station {
    name = goonhilly_downs
    objectName = Goonhilly Satellite Earth Station
    // Arthur.
    lat = 50.04833416020135
    lon = -5.175989171246932
    // 101 m ASL, + half the antenna diameter.
    alt = 114
    role = trx
    Antenna {
      TechLevel = 3
      RFBand = C
      // See Telstar I (NASA SP-32), vol. 4, p. 2233.
      referenceGain = 55.6
      referenceFrequency = 4768
      TxPower = 67  // 5 kW.
      // See Telstar I (NASA SP-32), vol. 4, p. 2235.
      AMWTemp = 55
    }
  }
  station {
    name = raisting
    objectName = Erdfunkstelle Raisting
    // Radom.
    lat = 47.9022569624048
    lon = 11.115787914424002
    // 566 m ASL, + 27 m above the ground.
    alt = 593
    role = trx
    Antenna {
      TechLevel = 3
      RFBand = C
      antennaDiameter = 25
      TxPower = 63
    }
  }
  station {
    name = kashima
    objectName = Kashima Earth Station
    // Coordinates of the modern 34 m dish.
    lat = 35.95590356839753
    lon = 140.6601046239096
    alt = 50
    role = trx
    Antenna {
      TechLevel = 3
      RFBand = C
      // Gain of the 10 m transmitter dish from NASA TR R-252, p. 125.
      // The downlink used a 30 m UHF dish, but we ignore that.
      referenceGain = 55.0
      referenceFrequency = 4768
      TxPower = 70  // 10 kW.
      // Temperature of the UHF receiving system.
      // 75 K in [OH64].
      AMWTemp = 60
    }
  }
  station {
    name = point_mugu
    objectName = Point Mugu Earth Station
    // A dish at Point Mugu—though not the right one.
    lat = 34.10277707518995
    lon = -119.11629128719811
    alt = 50
    role = trx
    Antenna {
      TechLevel = 3
      RFBand = C
      // Gain of the 85 ft UHF dish from NASA TR R-252, p. 125.
      // [OH64] give this as 51.2 instead.
      // Note that we change this to C band.
      referenceGain = 51.5
      referenceFrequency = 4768
      // Power of the Mojave UHF transmitter from NASA SP-76, p. 362.
      // We conflate Mojave (Trx in Relay and ATS) and point Mugu (Rx in
      // Syncom), it’s not like the 130 km make a difference.
      TxPower = 70  // 10 kW.
      // Temperature of the UHF receiving system.
      // 40 K in [OH64].
      AMWTemp = 38
    }
  }
  // TODO(egg): Fucino, Rio.
  connection {
    name = andover_pleumeur_bodou_1_tv
    tx = andover
    rx = pleumeur_bodou
    latency = 60
    rate = 12e6
    window = 90
  }
  connection {
    name = pleumeur_bodou_andover_1_tv
    tx = pleumeur_bodou
    rx = andover
    latency = 60
    rate = 12e6
    window = 90
  }
  connection {
    name = andover_goonhilly_1_tv
    tx = andover
    rx = goonhilly_downs
    latency = 60
    rate = 12e6
    window = 90
  }
  connection {
    name = goonhilly_andover_1_tv
    tx = goonhilly_downs
    rx = andover
    latency = 60
    rate = 12e6
    window = 90
  }
  connection {
    name = kashima_point_mugu_1_tv
    tx = kashima
    rx = point_mugu
    latency = 60
    rate = 12e6
    window = 90
  }
  connection {
    name = point_mugu_kashima_1_tv
    tx = point_mugu
    rx = kashima
    latency = 60
    rate = 12e6
    window = 90
  }
  connection {
    name = kashima_point_mugu_1_tv_2_weeks
    tx = kashima
    rx = point_mugu
    latency = 60
    rate = 12e6
    window = 14
  }
}

!CONTRACT_TYPE:HAS[~group[skopos_telecom_group]] {}

AGENT
{
  name = skopos_telecom_agent
  title = Σκοπός Telecom
  description = Σκοπός Telecommunications
  logoURL = Skopos/skopos_telecom_160
  logoScaledURL = Skopos/skopos_telecom_40
  mentality = Commercial
}

@CONTRACT_GROUP[RP0] {
  CONTRACT_GROUP {
    name = skopos_telecom_group
    displayName = Σκοπός Telecom
    description = Σκοπός Telecommunications
    maxSimultaneous = 0
    maxCompletions = 0
    agent = skopos_telecom_agent
  }
}

CONTRACT_TYPE {
  name = intermittent_transatlantic_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 001
  title = Transatlantic Television
  // Mostly pilfered from NASA SP-32 p. 740.
  description = The development of artificial satellites opens the possibility of applying microwave radio relay technology to transoceanic links, using a “microwave repeater in the sky”. The objective for this experiment is to answer the critical questions, leaving until a later round of design the optimization of trade-offs and the development and construction of a commercial operating system.
  synopsis = Provide transatlantic television for three months with 1% availability (~15 min per day).
  notes = Earth stations with cutting-edge antennas have been built at Andover (Maine), Pleumeur-Bodou (Britanny), and Goonhilly Downs (Cornwall). It should be possible to establish a transatlantic link with a very small satellite.
  completedMessage = The experiment has successfully demonstrated the viability of a transatlantic link via satellite, paving the way for a commercial operating system.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 1
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  PARAMETER {
    type = AchieveConnectionAvailability
    connection = andover_pleumeur_bodou_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = pleumeur_bodou_andover_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = andover_goonhilly_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = goonhilly_andover_1_tv
    availability = 0.01
  }

  BEHAVIOUR {
    type = AddToGroundSegment
    condition {
      state = CONTRACT_OFFERED
    }
    station = andover
    station = pleumeur_bodou
    station = goonhilly_downs
    connection = andover_pleumeur_bodou_1_tv
    connection = pleumeur_bodou_andover_1_tv
    connection = andover_goonhilly_1_tv
    connection = goonhilly_andover_1_tv
  }
  BEHAVIOUR {
    type = ActivateConnection
    condition {
      state = CONTRACT_ACCEPTED
    }
    connection = andover_pleumeur_bodou_1_tv
    connection = pleumeur_bodou_andover_1_tv
    connection = andover_goonhilly_1_tv
    connection = goonhilly_andover_1_tv
  }
}

CONTRACT_TYPE {
  name = maintenance_intermittent_transatlantic_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 003
  title = Transatlantic Television - Maintenance
  description = The ability to intermittently transmit live television across the Atlantic ocean has been found commercially useful; network operators are willing to fund the continued operation of the transatlantic relay.
  synopsis = Provide transatlantic television with an availability of 1% (22 hours and 24 minutes) in any 90-day period for a duration of one year.
  completedMessage = We have completed another year of successful operations of the transatlantic television relay.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 0
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = intermittent_transatlantic_tv
  }
  REQUIREMENT {
    type = ContractNotCompletedOnAcceptance
    contractType = sustained_transatlantic_tv
  }

  PARAMETER {
    type = MaintainConnectionAvailability
    connection = andover_pleumeur_bodou_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = pleumeur_bodou_andover_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = andover_goonhilly_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = goonhilly_andover_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = Duration
    duration = 365d
  }
}

CONTRACT_TYPE {
  name = sustained_transatlantic_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 011
  title = Sustained Transatlantic Television
  description = The ability to relay television across the atlantic ocean has proven useful. However, we would like to be able to broadcast live television at any time, instead of being constrained by the timing of satellite passes.
  notes = Whether you achieve this with a MEO or LEO constellation or a single GEO satellite is up to you.
  synopsis = Provide transatlantic television for three months with 95% availability (~23 h per day).
  completedMessage = The experiment has successfully demonstrated the viability of a transatlantic link via satellite, paving the way for a commercial operating system.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 1
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = intermittent_transatlantic_tv
  }

  PARAMETER {
    type = AchieveConnectionAvailability
    connection = andover_pleumeur_bodou_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = pleumeur_bodou_andover_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = andover_goonhilly_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = goonhilly_andover_1_tv
    availability = 0.95
  }
}

CONTRACT_TYPE {
  name = maintenance_sustained_transatlantic_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 013
  title = Sustained Transatlantic Television - Maintenance
  description = The ability to broadcast live television across the atlantic at any time has been found commercially useful; network operators are willing to fund the continued operation of the transatlantic relay.
  synopsis = Provide transatlantic television with an availability of 95%  in any 90-day period for a duration of one year.
  completedMessage = We have completed another year of successful operations of the transatlantic television relay.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 0
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = sustained_transatlantic_tv
  }

  PARAMETER {
    type = MaintainConnectionAvailability
    connection = andover_pleumeur_bodou_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = pleumeur_bodou_andover_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = andover_goonhilly_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = goonhilly_andover_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = Duration
    duration = 365d
  }
}

CONTRACT_TYPE {
  name = intermittent_transpacific_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  title = Transpacific Television
  sortKey = 002
  description = The success of the transatlantic relay has sparked interest in Japan.
  synopsis = Provide transpacific television for three months with 1% availability (~15 min per day).
  notes = Earth stations with cutting-edge antennas have been built in the Kashima prefecture (Japan), and at Point Mugu (California). It should be possible to establish a transpacific link with a very small satellite.
  completedMessage = The experiment has successfully demonstrated the viability of a transpacific link via satellite, paving the way for a commercial operating system.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 1
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = intermittent_transatlantic_tv
  }

  PARAMETER {
    type = AchieveConnectionAvailability
    connection = kashima_point_mugu_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = point_mugu_kashima_1_tv
    availability = 0.01
  }

  BEHAVIOUR {
    type = AddToGroundSegment
    condition {
      state = CONTRACT_OFFERED
    }
    station = kashima
    station = point_mugu
    connection = kashima_point_mugu_1_tv
    connection = point_mugu_kashima_1_tv
  }
  BEHAVIOUR {
    type = ActivateConnection
    condition {
      state = CONTRACT_ACCEPTED
    }
    connection = kashima_point_mugu_1_tv
    connection = point_mugu_kashima_1_tv
  }
}

CONTRACT_TYPE {
  name = maintenance_intermittent_transpacific_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 004
  title = Transpacific Television - Maintenance
  description = The ability to intermittently transmit live television across the Pacific ocean has been found commercially useful; network operators are willing to fund the continued operation of the transpacific relay.
  synopsis = Provide transpacific television with an availability of 1% (22 hours and 24 minutes) in any 90-day period for a duration of one year.
  completedMessage = We have completed another year of successful operations of the transpacific television relay.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 0
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = intermittent_transpacific_tv
  }
  REQUIREMENT {
    type = ContractNotCompletedOnAcceptance
    contractType = sustained_transpacific_tv
  }

  PARAMETER {
    type = MaintainConnectionAvailability
    connection = kashima_point_mugu_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = point_mugu_kashima_1_tv
    availability = 0.01
  }
  PARAMETER {
    type = Duration
    duration = 365d
  }
}

CONTRACT_TYPE {
  name = sustained_transpacific_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 012
  title = Sustained Transpacific Television
  description = The ability to relay television across the pacific ocean has proven useful. However, we would like to be able to broadcast live television at any time, instead of being constrained by the timing of satellite passes.
  notes = Whether you achieve this with a MEO or LEO constellation or a single GEO satellite is up to you.
  synopsis = Provide transpacific television for three months with 95% availability (~23 h per day).
  completedMessage = The experiment has successfully demonstrated the viability of a transpacific link via satellite, paving the way for a commercial operating system.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 1
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = intermittent_transpacific_tv
  }

  PARAMETER {
    type = AchieveConnectionAvailability
    connection = kashima_point_mugu_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = AchieveConnectionAvailability
    connection = point_mugu_kashima_1_tv
    availability = 0.95
  }
}

CONTRACT_TYPE {
  name = maintenance_sustained_transpacific_tv
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 014
  title = Sustained Transpacific Television - Maintenance
  description = The ability to broadcast live television across the pacific at any time has been found commercially useful; network operators are willing to fund the continued operation of the transpacific relay.
  synopsis = Provide transpacific television with an availability of 95%  in any 90-day period for a duration of one year.
  completedMessage = We have completed another year of successful operations of the transpacific television relay.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 0
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = sustained_transpacific_tv
  }

  PARAMETER {
    type = MaintainConnectionAvailability
    connection = kashima_point_mugu_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = MaintainConnectionAvailability
    connection = point_mugu_kashima_1_tv
    availability = 0.95
  }
  PARAMETER {
    type = Duration
    duration = 365d
  }
}

CONTRACT_TYPE {
  name = olympics_1964
  agent = skopos_telecom_agent
  group = skopos_telecom_group
  sortKey = 005
  title = Tokyo 1964 Olympics
  description = The successful establishment of a transpacific relay suggests the possibility of a live broadcast to American audiences of the 1964 Olympics in Tokyo.
  synopsis = Provide transpacific television during the olympics (two weeks starting October 10th, 1964) with 95% availability (~23 h per day).
  notes = We require high availability to broadcast the games as they happen. A single MEO satellite won’t do here.
  completedMessage = Viewers in the United States have been able to watch their athletes win 36 gold medals on live television.


  cancellable = false
  declinable = false
  minExpiry = 0
  maxExpiry = 0

  prestige = Significant

  maxCompletions = 1
  maxSimultaneous = 1

  rewardScience = 0
  rewardReputation = 0
  rewardFunds = 0
  failureReputation = 0
  failureFunds = 0
  advanceFunds = 0

  REQUIREMENT {
    type = CompleteContract
    contractType = intermittent_transpacific_tv
  }

  REQUIREMENT {
    type = BeforeDate
    date = 1964-10-10T09:00:00
  }

  PARAMETER {
    name = wait_until_opening_ceremony
    type = WaitUntilDate
    date = 1964-10-10T09:00:00
  }

  PARAMETER {
    name = achieve_availability
    type = AchieveConnectionAvailability
    connection = kashima_point_mugu_1_tv_2_weeks
    availability = 0.95
  }

  PARAMETER {
    type = Timer
    duration = 15d
    timerType = PARAMETER_COMPLETION
    parameter = achieve_availability
  }


  BEHAVIOUR {
    type = AddToGroundSegment
    condition {
      state = CONTRACT_OFFERED
    }
    connection = kashima_point_mugu_1_tv_2_weeks
  }
  BEHAVIOUR {
    type = ActivateConnection
    condition {
      state = PARAMETER_COMPLETED
      parameter = wait_until_opening_ceremony
    }
    connection = kashima_point_mugu_1_tv_2_weeks
  }
}

// TODO(egg):
// - Establish an intermittent transatlantic link to Germany, Brasil, Italy, etc.
// - Transmit the 1968 Olympics (maybe for another round, getting into Молния timeframe)
